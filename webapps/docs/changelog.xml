<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE document [
  <!ENTITY project SYSTEM "project.xml">
]>
<document url="changelog.html">

  &project;

  <properties>
    <author email="remm@apache.org">Remy Maucherat</author>
    <author email="jfclere@apache.org">Jean-Frederic Clere</author>
    <author email="yoavs@apache.org">Yoav Shapira</author>
    <author email="fhanik@apache.org">Filip Hanik</author>
    <title>Changelog</title>
  </properties>

<body>

<section name="JBoss Web 7.0.4.Final (remm)">
  <subsection name="Catalina">
    <changelog>
      <update>
        Add alias based dir context. (remm, markt)
      </update>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
         Filter out multibyte chars when writing a char chunk. (rjung)
      </fix>
      <fix>
         <jira>AS7-2739</jira>: Allow using the keepalive disable configuration
         when using the async or event modes. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.3.Final (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Improve DIGEST authentication security. (remm)
      </fix>
      <fix>
        <jira>AS7-2073</jira>: Delegate connector lifecycle handling if in delay mode. (jfclere, remm)
      </fix>
      <fix>
        For compatibility with managers which don't extend StandardManager, set the session timeout
        from Context.start, so that it is always propagated. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
         Possible exception parsing invalid chunk headers. (remm)
      </fix>
      <fix>
         Add org.apache.tomcat.util.net.WAIT_FOR_THREAD system property to bring back optional
         blocking for the thread pool. (remm)
      </fix>
      <fix>
         Add a limit on the number of parameters that can be parsed in a POST (1024 by default, 
         configured with org.apache.tomcat.util.http.Parameters.MAX_COUNT). (remm)
      </fix>
      <fix>
         Add system properties which restrict parameter count (org.apache.tomcat.util.http.Parameters.MAX_COUNT
         default to 512) and header count (org.apache.tomcat.util.http.MimeHeaders.MAX_COUNT to 128). (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.2.Final (remm)">
  <subsection name="Catalina">
    <changelog>
      <update>
        Add a dedicated API for thread binding purposes. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
         <bug>51698</bug>: Fix CVE-2011-3190. Prevent AJP message injection. (markt)
      </fix>
      <fix>
         <bug>51860</bug>: Fix issues when keyAlias is being used. (markt)
      </fix>
      <fix>
         <jira>JBWEB-201</jira>JBoss Web Native causes JVM crash with AJP. (jfclere/remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.1.Final (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <jira>205</jira>: Filter out some generic callback events which are not
        relevant for Servlet 3 async. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix handling of sendfile errors when calling add. (markt)
      </fix>
      <update>
        Refactor sendfile as its own API, similar to sendError. (remm)
      </update>
      <fix>
        Arrange solaris and macosx native logic (jfclere)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Final (remm)">
  <subsection name="Coyote">
    <changelog>
      <fix>
        Improve byte[] to String conversion speed when running into a cache miss and
        when requesting a reader/writer caused by encoding to charset conversion 
        bottleneck. (remm, markt)
      </fix>
      <fix>
        Stop considering '/' as a separator in cookies by default (based on the
        compliance flag being true by default). (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.CR4 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <jboss-jira>AS7-1098</jboss-jira>: Cleanup URL stream handler init by using 
        the classloader returned loader.getClassLoader(). (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        Improve per thread tagpool cleanup. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.CR3 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>51324</bug>: Recycle should reset the OutputBuffer doFlush flag. (remm)
      </fix>
      <fix>
        <bug>51348</bug>: WebDAV lock processing NPE fix. (markt)
      </fix>
      <update>
        Allow valves to replace the IS/reader and OS/writer that gets returned to the
        applications. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        Improve per thread tagpool cleanup. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.CR2 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        SingleThreadModel handling was not properly implemented following a filter chain simplification. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.CR1 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Add a new session id changed event to SessionListener, the Servlet API events are not appropriate. (remm)
      </fix>
      <fix>
        Default to a cheaper seed method for request randoms. (remm)
      </fix>
      <fix>
        Low memory default for session manager (with low max amount of sessions), and disable
        session persistence by default. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>47371</bug>: Fix conversion from empty string to number in EL. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta11 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Fix authenticator NPE due to uninitialized containerLog field when the modeler is disabled. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta10 (remm)">
  <subsection name="Jasper">
    <changelog>
      <fix>
        Fix per thread tagpool NPE due to missing instance manager. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta9 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Improve connector API and make the native listener in charge of the default protocol
        handler selection. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        Rewrite the remnants of DOM based parsing using STAX. JSPX files still use SAX. (remm)
      </fix>
      <fix>
        Fix per thread tagpool to use the instance manager, and default to the per thread pool. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta8 (remm)">
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix APR init with a negative pollerSize. (remm)
      </fix>
      <fix>
        Beautify the address string which is used as the connector name. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta7 (remm)">
  <subsection name="Catalina">
    <changelog>
      <update>
        Add a host filtering feature in the connectors. (remm)
      </update>
      <update>
        Add root webapp configuration in Host. (remm)
      </update>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta6 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Tune low memory use defaults. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Expose the request info objects using a Java API on ProtocolHandler. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta5 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Add a set of low memory use defaults. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta4 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Revert allow setting content-length when using a writer. (remm)
      </fix>
      <fix>
        The various defaults for system properties will be the desired AS 
        defaults, while standalone will use a custom config. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta3 (remm)">
  <subsection name="Catalina">
    <changelog>
      <update>
        Drop extension validator, now taken over in the embedding application server. (markt)
      </update>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta2 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Update to the JDT 3.7 branch. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>50747</bug>: Allow setting content-length when using a writer, as the previous check 
        was incomplete. (markt)
      </fix>
      <fix>
        Work directory was not set as a read only attribute. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>49000</bug>: Improve name only cookie handling. (markt)
      </fix>
      <fix>
        <bug>47319</bug>: Fix getRemoteHost() with APR when name cannot be resolved. (markt)
      </fix>
      <fix>
        <bug>50189</bug>: Fix AJP protocol corruption if a webapp reads from the request after closing 
        the response. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>50500</bug>: Improve certain arithmetic conversions in EL. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 7.0.0.Beta1 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <jboss-jira>JBAS-8571</jboss-jira>: Allow a Servlet 3.0 login to reauthenticate with SSO. (remm)
      </fix>
      <fix>
        <jira>189</jira>: Overlay timestamps need special treatment. (remm)
      </fix>
      <fix>
        Improve session id and SSO id creation. (remm)
      </fix>
      <fix>
        <bug>49779</bug>: Interaction between continue and FORM. (markt)
      </fix>
      <fix>
        Allow a landing page for FORM. (markt)
      </fix>
      <fix>
        <jira>190</jira>: The rewrite resolver should look at request attributes. (remm)
      </fix>
      <fix>
        <bug>49991</bug>: Fix calling Request listeners when entering and exiting 
        the application scope in the main host valve, not simply just before 
        calling the filter chain. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <jboss-jira>JBPAPP-5293</jboss-jira>: ConcurrentModificationException in HandshakeCompletedNotify-Thread. (remm)
      </fix>
      <fix>
        <jira>186</jira>: Fix wait logic in pause() and add configuration. (jfclere)
      </fix>
      <fix>
        Allow using the new TLS renegotiation (RFC 5746) if available. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <jboss-jira>JBAS-8579</jboss-jira>: Fix default for tag body content. (remm)
      </fix>
      <fix>
        <jira>185</jira>: Fix cache thread safety issue for EL expression builder.
        Patch submitted by Takayoshi Kimura. (remm)
      </fix>
      <fix>
        <bug>50192</bug>: Fix regression getting the EL resolver. Tighter security can
        be enabled back. (remm)
      </fix>
      <fix>
        <bug>49555</bug>: Fix use of static inner classes in taglibs. (markt)
      </fix>
      <fix>
        <bug>49726</bug>: Specifying a default content type via a JSP property group 
        should not prevent a page from setting some other content type. (markt)
      </fix>
      <fix>
        <bug>49998</bug>: Handle single quoted attributes in detection of jsp:root 
        element in XML syntax JSP files. (markt)
      </fix>
      <fix>
        <bug>50066</bug>: Fix building of recursive tag files when the file depends on a JAR file. 
        Patch provided by Sylvain Laurent. (markt)
      </fix>
      <fix>
        <bug>50105</bug>: Use Enum.name() rather than Enum.toString() in composite expressions. (markt)
      </fix>
      <fix>
        Close reader in JDT compiler. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta7 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Use a more standard fileupload and update to 1.2. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Fix NPE processing some POST. (markt)
      </fix>
      <fix>
        Various CSRF filter updates. (markt)
      </fix>
      <fix>
        <bug>49613</bug>: Improve getAttributeNames() performance when using SSL in some cases. (remm)
      </fix>
      <add>
        mod_expires clone submitted by Cyrille Le Clerc. (markt)
      </add>
      <fix>
        CSRF filter updates. (markt)
      </fix>
      <fix>
        <bug>48960</bug>: Disable SSI exec by default, and add allowExec configuration. (markt)
      </fix>
      <fix>
        <bug>49428</bug>: Specify a namespace rather than use a default to please MS clients.
        Submitted by Panagiotis Astithas. (markt)
      </fix>
      <fix>
        <bug>38113</bug>: Empty query Strings should be acceptable. This may be incompatible with
        some old non compliant applications. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix NPE recycling buffered input filter and reduce memory use. (remm)
      </fix>
      <fix>
        Skip out invalid headers when writing the response. (remm)
      </fix>
      <fix>
        Use production defaults for endpoints. (remm, jfclere)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <jboss-jira>JBAS-8374</jboss-jira>: Allow empty parameters brackets for EL method calls. (remm)
      </fix>
      <fix>
        <jira>180</jira>: Add system property to configure default buffer size.
        Submitted by James Livingston. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta6 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Eclipse JDT 3.5.2. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Default realm name with BASIC and DIGEST. (markt)
      </fix>
      <fix>
        Add filter before method fix. (markt, kkolinko)
      </fix>
      <update>
        More standalone code removal (incl system streams swallowing). (remm)
      </update>
      <add>
        Add csrf filter for compatibility with Tomcat. (markt)
      </add>
      <fix>
        Improve StandardWrapper.createWrapper error reporting. (remm)
      </fix>
      <fix>
        Implement session cookie name and path parameter configuration. (remm)
      </fix>
      <fix>
        <jira>169</jira>: Don't allow flush() after close(). (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta5 (remm)">
  <subsection name="Catalina">
    <changelog>
      <update>
        More standalone code removal. (remm)
      </update>
      <fix>
        <jira>165</jira>: Correct fix for <bug>42727</bug>. (remm)
      </fix>
      <fix>
        Remove incorrect Context.annotationsIgnored field. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>49081</bug>: EL parsing fix. (markt)
      </fix>
      <fix>
        <bug>49110</bug>: Inner class should be static in JspFactoryImpl. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta4 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Add missing event for regular request processing to InstanceListener. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Add back SSL renegotiation as an option. (mturk)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>48616</bug>: Additional variable declaration fixes. (kkolinko)
      </fix>
      <fix>
        <bug>48827</bug>: Parser regression. (markt)
      </fix>
      <fix>
        <bug>48668</bug>: Honor isELIgnored and isDeferredSyntaxAllowed in the Parser.
        ELParser is now aware of the isDeferredAsLiteral option. (kkolinko)
      </fix>
      <fix>
        <bug>48701</bug>: Allow TagVariableInfo as well as VariableInfo to introduce 
        objects later used by jsp:getProperty. (markt)
      </fix>
      <update>
        <bug>48795</bug>: Add a new property to control if the next request always 
        triggers recompilation after a compilation failure. (markt)
      </update>
      <fix>
        <bug>45015</bug>: Fix regression. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta3 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Add LDAP connection timeout in JNDI realm. (markt)
      </fix>
      <fix>
        <bug>48318</bug>: Handle unreadable resources in WebDAV. (markt)
      </fix>
      <fix>
        <jira>19</jira>: Optionally expose principal from Session if present. (remm)
      </fix>
      <fix>
        <bug>48384</bug>: Per directory XSLT for default servlet. (markt)
      </fix>
      <fix>
        <bug>48589</bug>: JNDI realm extensibility. (markt)
      </fix>
      <fix>
        <bug>48760</bug>: Fix possible race condition reading resources. (markt)
      </fix>
      <update>
        Drop standalone code: XML parsing, webapp deployer, annotation processing, naming support. (remm)
      </update>
      <add>
        Port over Tomcat utility filters. (markt)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>48660</bug>: Add to vary header. (markt)
      </fix>
      <fix>
        <bug>48545</bug>: Optional password on truststores. (markt)
      </fix>
      <fix>
        <jboss-jira>JBAS-7817</jboss-jira>: Use of position before setting the limit of a NIO buffer
        is unsafe. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>48627</bug>: Don't convert literal attribute values to EL since EL attributes
        may not accept EL. (markt)
      </fix>
      <fix>
        <bug>48616</bug>: Another variable declaration fix. (markt)
      </fix>
      <fix>
        <bug>48668</bug>: Fix handling of EL like strings when EL is disabled. (markt)
      </fix>
      <fix>
        Rebase ELSupport. (remm)
      </fix>
      <fix>
        <bug>42314</bug>: More stream closing when reporting errors. (markt)
      </fix>
      <fix>
        <bug>48498</bug>: Workaround for XML parser bug when reporting errors. (markt)
      </fix>
      <fix>
        <bug>48580</bug>: Possible security exception on first JSP access. (markt)
      </fix>
      <fix>
        <bug>48582</bug>: Avoid NPE on compilation errors of tag files. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta2 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>48516</bug>: Possible NPE in JNDI realm. (markt)
      </fix>
      <fix>
        <jira>157</jira>: NPE on host with HTTP/1.0, submitted by Markus Grieder. (remm)
      </fix>
      <add>
        Remote IP valve. (markt)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <add>
        On demand webapp startup plumbing, submitted by Brian Stansberry. (remm)
      </add>
      <fix>
        Various (un)deployment related improvements including better handling of
        failed (un)deployment, additional checking for valid zip entries that
        don't make sense in a WAR and improved validation of WAR file names.
        (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>47977</bug>: Check empty body in tags. (markt)
      </fix>
      <fix>
        EL escaping fixes. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 3.0.0.Beta1 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Servlet 3.0 API. (remm)
      </update>
      <update>
        JSP 2.2 API. (remm)
      </update>
      <update>
        EL 1.2 API. (remm)
      </update>
      <update>
        Commons Pool 1.5.2. (markt)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <update>
        Replace TomcatCookie class with the new Cookie API. (remm)
      </update>
      <update>
        Cookie tracking and Servlet 3.0 cookie configuration. (markt, remm)
      </update>
      <update>
        ServletRegistration and FilterRegistration implementation. (remm)
      </update>
      <fix>
        XML validation fix. (markt)
      </fix>
      <fix>
        <bug>46866</bug>: Use nanoTime rather that a weaker init for the Random fallback. (remm)
      </fix>
      <fix>
        <bug>45332</bug>: Encoding fix for tomcat-users file. (markt)
      </fix>
      <update>
        Move InstanceManager and PeriodicEventListener to org.apache.tomcat. (markt)
      </update>
      <fix>
        <bug>46982</bug>: Use DST offset not current offset in the access log valve. (markt)
      </fix>
      <fix>
        Various WebDAV test suite failures. (markt)
      </fix>
      <fix>
        <bug>46933</bug>: Simplify StringManager using Java 5 features. Based on a patch by Jens Kapitza. (markt)
      </fix>
      <fix>
        <bug>46961</bug>: Prefer Class.forName for Java 6 compatibility with array fake types. (markt)
      </fix>
      <fix>
        <bug>42579</bug>: Handle both relative and absolute search results in JNDI realm. Patch provided by Brandon DuRette. (markt)
      </fix>
      <fix>
        <bug>46967</bug>: Secure random security manager fix. Based on a patch provided by Kirk Wolf. (markt)
      </fix>
      <fix>
        <bug>46562</bug>: In SSI, close the reader when done. (markt)
      </fix>
      <add>
        AsyncContext implementation, internally built on top of the event API. (remm)
      </add>
      <add>
        Multipart implementation. (remm)
      </add>
      <add>
        New JarRepository component to handle better management of JarFiles following the Servlet 3.0 update. (remm)
      </add>
      <fix>
        <bug>47050</bug>: Remove unnecessary filtering in StandardHostValve. (markt)
      </fix>
      <fix>
        <bug>46925</bug>: Improve search for nested roles in JNDIRealm by replacing recursive search with
        iterative search. Patch provided by Stefan Zoerner. (rjung)
      </fix>
      <fix>
        Close stream after error in the classloader. (pero)
      </fix>
      <fix>
        <bug>47046</bug>: JMX unregistration. (markt)
      </fix>
      <update>
        Remove ServerFactory. (markt)
      </update>
      <fix>
        <bug>47299</bug>: Expose Container.fireContainerEvent, which became public long ago. (remm)
      </fix>
      <fix>
        Three bugs related to session activity with the persistent manager. (kkolinko, markt)
      </fix>
      <fix>
        <bug>47343</bug>: Fix redeploy resources order. (markt)
      </fix>
      <fix>
        Add support for chunked POSTs. (markt)
      </fix>
      <fix>
        MIME types cleanup. (kkolinko)
      </fix>
      <fix>
        JDBC driver cleanup fix, using a hack to define the cleaner component in the webapp classloader. (markt)
      </fix>
      <fix>
        <bug>39231</bug>: Call logout on the JAAS login context whenever possible. (markt)
      </fix>
      <fix>
        <bug>37984</bug>: Strip {MD5} as well as {SHA} from digested passwords. (markt)
      </fix>
      <fix>
        <bug>41059</bug>: Reduce one possible source of errors if using ENABLE_CLEAR_REFERENCES=true.
        Patch by Curt Arnold. (markt)
      </fix>
      <fix>
        Register filters with JMX. (markt)
      </fix>
      <fix>
        <bug>47705</bug>: Fix divide by zero in the manager sessions command. (funkman)
      </fix>
      <fix>
        <jboss-jira>JBAS-7159</jboss-jira>: Better usability for Context level usage of RewriteValve. (remm)
      </fix>
      <fix>
        Reset strings for query string and host name in RewriteValve when rewriting. (remm)
      </fix>
      <fix>
        <jira>148</jira>: Add additional null checks for unmapped contexts. (remm)
      </fix>
      <fix>
        <bug>48049</bug>: Fix NamingContext.destroySubcontext. (markt)
      </fix>
      <fix>
        <bug>47718</bug>: Resource leak when using the random stream, submitted by George Sexton. (markt)
      </fix>
      <fix>
        <bug>47537</bug>: Return an error page if forward fails during FORM auth. (markt)
      </fix>
      <update>
        Change session id on successful auth, disabled by default. (markt)
      </update>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix incomplete write logic in APR. (jfclere)
      </fix>
      <fix>
        Remove useless instanceof in the HTTP protocol. (markt)
      </fix>
      <update>
        Add support for non IO based events in all AJP and HTTP connectors. (remm)
      </update>
      <fix>
        Fix handling of timeout values &lt;= 0 with the poller refactoring. (remm)
      </fix>
      <fix>
        <jboss-jira>JBAS-6442</jboss-jira>: The character encoder should tolerate unmappable characters. (jfclere)
      </fix>
      <fix>
        Add flag to set Expires for cookie expiration on IE. (markt)
      </fix>
      <fix>
        <bug>47225</bug>: Fix bad length when redirecting in the mapper. (markt)
      </fix>
      <fix>
        Cookie separators and quoting compliance fixes. (markt, kkolinko)
      </fix>
      <fix>
        <bug>46950</bug>: Fix SSL renegociation problems. (jfclere)
      </fix>
      <fix>
        Fix CVE-2009-3555, man-in-the-middle attack in TLS protocol. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <add>
        Embedded Jasper, TLDs are now processed by the Servlet container. (remm)
      </add>
      <update>
        Remove Jasper JSP precompiler. (remm)
      </update>
      <fix>
        <bug>46915</bug>: JSTL issues resolving resource bundle keys. (markt)
      </fix>
      <fix>
        <bug>46909</bug>: The ';' should really only be used if there is a following parameter. (markt)
      </fix>
      <fix>
        <bug>37929</bug>: Fix session access to an invalidated session. (markt)
      </fix>
      <fix>
        Removed some casts in ELResolverImpl. Patch suggested by kkolinko. (markt)
      </fix>
      <fix>
        <bug>47318</bug>: Process include preludes and codas when processing directives and whole pages. (markt)
      </fix>
      <fix>
        <bug>38797</bug>: Fix getProperty code to what it used to be in Tomcat 5.5.12. (markt)
      </fix>
      <fix>
        <bug>41661</bug>: JspConfig.init() needs a minimal amount of thread safety. (markt)
      </fix>
      <fix>
        <bug>47413</bug>: First part of a composite expression "${a}${b}" was not coerced to String. (kkolinko)
      </fix>
      <fix>
        <bug>41824</bug>: Need to use canonical rather than binary form when writing code. (markt)
      </fix>
      <fix>
        <bug>42390</bug>: Correct JSP compilation error with nested tagfile tags with variables with "AT_BEGIN" scope.
        Patch provided by Konstantin Kolinko. (markt)
      </fix>
      <fix>
        Avoid possible NPE handling JSP exceptions. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.3.GA (remm)">
  <subsection name="General">
    <changelog>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        NPE in various realms. (markt)
      </fix>
      <fix>
        <bug>46875</bug>: ISE on session access in Comet valve. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Remove useless instanceof in the HTTP protocol. (markt)
      </fix>
      <fix>
        <jboss-jira>JBAS-6814</jboss-jira>: Fix looping when parsing bad end chunk, caused by the non blocking changes. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        EL resolver improvements when using a security manager. (markt)
      </fix>
      <fix>
        <bug>41606</bug>: Fix jspInit called twice. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.2.GA (remm)">
  <subsection name="General">
    <changelog>
      <update>
        NSIS 2.43. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>38553</bug>: A lack of certs is normal if the user doesn't have a trusted cert. Return 401, 
        not 400 in this case. (markt)
      </fix>
      <fix>
        <bug>46606</bug>: Max depth limit configurable in WebDAV Servlet. (markt)
      </fix>
      <fix>
        <bug>38570</bug>: Fix checking of appBase against docBase. (markt)
      </fix>
      <fix>
        <bug>39013</bug>: Fix appBase test when deleting resources. (markt)
      </fix> 
      <fix>
        Status code for redirect rule in rewrite valve. (jfclere)
      </fix> 
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        HTTP/1.0 handling differed from the old org.apache.jk connector. (remm)
      </fix>
      <fix>
        Optimize date format for v0 cookies. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>46564</bug>: More case insensitive comparison of encodings. (markt)
      </fix>
      <fix>
        Validator code cleanup. (markt)
      </fix>
      <fix>
        <bug>38197</bug>: Take account of jsp:attribute elements when naming tag pools. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.2.CR1 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        NSIS 2.41. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>46011</bug>: Make Principal accessible (if set) via Subject.getSubject(AccessController.getContext()) when processing filters.
        Based on a patch provided by tsveg1. (markt)
      </fix>
      <fix>
        <bug>42707</bug>: Adding host aliases should be dynamic. (markt)
      </fix>
      <update>
        JNDI realm feature additions. (rjung)
      </update>
      <fix>
        <bug>42747</bug>: Harmonize handling of context.xml between war and exploded folder. (markt)
      </fix>
      <fix>
        <bug>42673</bug>: In SSI, correctly handle includes with multi-level contexts.
        Patch provided by Peter Jodeleit. (markt)
      </fix>
      <fix>
        If throwing an exception for a non serializable attribute, mention the attribute name in the exception. (mturk)
      </fix>
      <fix>
        Create configBase also when dealing with directory deployment. (markt)
      </fix>
      <fix>
        Pass attribute changes to the executor to allow dynamic configuration. (markt)
      </fix>
      <fix>
        <bug>42077</bug>: In javax.el iterators, don't return null elements. Based on a patch by Mathias Broekelmann. (markt)
      </fix>
      <fix>
        Possible NPE on shutdown of ClusterListener. (remm)
      </fix>
      <fix>
        InstanceManager security manager fixes. (markt)
      </fix>
      <add>
        Add a log formatter which logs on one line. (markt)
      </add>
      <update>
        <jira>129</jira>: Support substitution for cookies and env flags in RewriteRule, and map the env flag
        to request attributes. (remm)
      </update>
      <update>
        Support multiple env flags in RewriteRule. (remm)
      </update>
      <update>
        Support all cookie flags in RewriteRule. (remm)
      </update>
      <fix>
        Remove useless normalization when getting a request dispatcher through a request, and
        refactor normalization to use the implementation in RequestUtil. (remm, markt)
      </fix>
      <fix>
        Filter not found URI in default servlet. (remm)
      </fix>
      <fix>
        <bug>46304</bug>: Cache event methods when security is enabled. (markt)
      </fix>
      <fix>
        <bug>46261</bug>: Handling for / in context path. (markt)
      </fix>
      <fix>
        Filter out negative ports on shutdown, so no connection attempt at all. (remm)
      </fix>
      <fix>
        <bug>23066</bug>: Rare NPE when loading a class. Submitted by Konstantin Kolinko. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        JSSE configuration for SSL sessions. (markt)
      </fix>
      <fix>
        Preload fast date format in HTTP connector. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        EL security manager fixes. (markt)
      </fix>
      <fix>
        <bug>36923</bug>: If EL is disabled, handle as template text. (markt)
      </fix>
      <fix>
        <bug>46462</bug>: Compatibility with ASF projects which use JSP. (markt)
      </fix>
      <fix>
        <bug>46381</bug>: Coerce EL to String rather than Object when concatenating. (markt)
      </fix>
      <fix>
        <bug>37515</bug>: Add options for 1.6 and 1.7 source and target to JDT compiler. (markt)
      </fix>
      <fix>
        <bug>46471</bug>: Use jar url and tag file path to uniquely ID a tag file to prevent naming
        clashes. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.GA (remm)">
  <subsection name="General">
    <changelog>
      <update>
        NSIS 2.40. (remm)
      </update>
      <update>
        JBoss Native 2.0.6. (remm)
      </update>
      <update>
        Eclipse JDT 3.4.1. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>45785</bug>: Add a check in the loader in addition to the fix for JBAS-4965. (markt)
      </fix>
      <fix>
        <bug>45823</bug>: Log missing request headers as - not null. Based on a patch by Per Landberg. (markt)
      </fix>
      <fix>
        <bug>45441</bug>: Correctly map filters for FORWARD and INCLUDE. (remm)
      </fix>
      <fix>
        <bug>45419</bug>: Set Accept-Ranges for static resources served by DefaultServlet. (markt)
      </fix>
      <add>
        Bayeux support using a BayeuxServlet written as an event driven servlet. (remm, fhanik)
      </add>
      <add>
        LockOutRealm to lock out users after a number of failed authentication attempts. (markt)
      </add>
      <fix>
        Fix SSI HTML replacement bug. (markt)
      </fix>
      <fix>
        Tighten up the max size for content caching (which is often useless due to sendfile). (markt, remm)
      </fix>
      <fix>
        Sync date format usage in SSI. (markt)
      </fix>
      <fix>
        <bug>45906</bug>: Another ETag improvement. Patch provided by Chris Hubick. (remm)
      </fix>
      <fix>
        CGI servlet generics cleanup. (markt)
      </fix>
      <fix>
        Better nested context handling. (markt)
      </fix>
      <fix>
        The default annotation name should be based on the class in which the annotation was found. (markt)
      </fix>
      <fix>
        <bug>46075</bug>: Don't create ByteArrayOutputStream at maximum possible size. (markt)
      </fix>
      <fix>
        <bug>46096</bug>: Support annotation processing whilst running under a security manager. (markt)
      </fix>
      <fix>
        <bug>46085</bug>: Date handling in sessions should use int offsets, and longs can get
        corrupted. (remm)
      </fix>
      <fix>
        <bug>46105</bug>: Set query string URI encoding when replaying request. (markt)
      </fix>
      <fix>
        Only reset the buffer and usage of IS or writer when forwarding to a custom error page. (markt, remm)
      </fix>
      <fix>
        Remove verbose attribute value logging during session passivation. (remm)
      </fix>
      <fix>
        Specific error message for webapps that fail to start. (fhanik)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <add>
        Package renamed JSON library. (remm)
      </add>
      <fix>
        IntrospectionUtils.replaceProperties should return the original String if no substitutions are
        needed. (remm)
      </fix>
      <fix>
        <bug>45026</bug>: AJP should not use an empty reason phrase, due to httpd 2 having a problem
        with that at the moment. (rjung)
      </fix>
      <fix>
        Allow AJP to read large body packets, up to the configured packet size. (remm)
      </fix>
      <fix>
        Remove date tool class, since it has sync issues. (markt, remm)
      </fix>
      <add>
        Add AJP support for certificate chains. (billbarker)
      </add>
      <fix>
        Null out socket in java.io HTTP connector. (fhanik)
      </fix>
      <fix>
        Handling for invalid AJP messages. (remm)
      </fix>
      <fix>
        New maxThreads default to 200, up from 40. (remm, fhanik)
      </fix>
      <fix>
        <bug>46077</bug>: Add configuration for deferAccept flag. (remm)
      </fix>
      <fix>
        Add maxThreads warning. (markt)
      </fix>
      <fix>
        Cleanup some type oddities in MimeHeaders. (remm)
      </fix>
      <fix>
        Refactor generation of the READ event which follows a BEGIN into the HTTP protocol handler. (remm)
      </fix>
      <fix>
        <jira>124</jira>, <jira>125</jira>: APR instability fixes involving asynchronous resume()
        calls. (remm)
      </fix>
      <fix>
        Fix timeout processing in many cases. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>45427</bug>: Correct parsing of quoted stings in EL. (markt)
      </fix>
      <fix>
        Optimize EL parser lookahead. (markt)
      </fix>
      <fix>
        Fix bad EL exception cast. (rjung)
      </fix>
      <fix>
        <bug>45451</bug>: Testing for this threw up all sorts of other failures around use of \${...} These 
        should all now be fixed. The two pass parsing means we can do away with the previous 'replace with 
        unused unicode character' trick. (markt)
      </fix>
      <fix>
        Remove unused code in ELSupport. (markt)
      </fix>
      <fix>
        Ascii parsing bug. (markt)
      </fix>
      <fix>
        Fix regression in Big* types handling. Patch provided by Nils Eckert. (markt)
      </fix>
      <fix>
        <bug>46047</bug>: Include jar in path for dependencies if they are in a JAR.
        Patch provided by Cédric Mailleux. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Others">
    <changelog>
      <fix>
        <jira>122</jira>: Fix exception when using SSL and HTTP variables. (jfclere)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR7 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <jboss-jira>JBAS-5917</jboss-jira>: Fix error handling starting one of the core components, 
        and harmonize lifecycle checks of StandardPipeline with the other components. (remm)
      </fix>
      <fix>
        <bug>45628</bug>: JARs without dependencies should always be fulfilled. (markt)
      </fix>
      <fix>
        <bug>45735</bug>: More consistent getETag. (remm)
      </fix>
      <fix>
        Better logging of security exceptions reading logging configuration. (rjung)
      </fix>
      <add>
        Add a special CombinedRealm which can aggregate authentication from multiple realms. (markt)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix a rare problem identifying AJP body packets that should be dropped. (jfclere)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        Sync with EL parser from Tomcat, to fix a number of complex expressions. (remm)
      </fix>
      <fix>
        <bug>45691</bug>: Fix possible duplicates variable names. (markt)
      </fix>
      <fix>
        <bug>45666</bug>: Fir infinite loop on include. (markt)
      </fix>
      <fix>
        Rebuild EL parser with JavaCC 4.1. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR6 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        NSIS 2.39. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>45453</bug>: Sync getPrincipal in JDBCRealm. (markt)
      </fix>
      <add>
        <jira>107</jira>: Servlet 3.0 style session cookie configuration. (remm)
      </add>
      <add>
        New embedded API (startup.Tomcat class). (remm)
      </add>
      <add>
        <bug>45576</bug>: Add DIGEST support to the JAAS Realm. (markt)
      </add>
      <fix>
        <bug>45585</bug>: Allow Tomcat to start if using
        <code>$CATALINA_BASE</code> but not JULI. Patch based on a suggestion by
        Ian Ward Comfort. (markt)
      </fix>
      <fix>
        The JAAS Realm did not assign roles to authenticated users. (markt)
      </fix>
      <add>
        <bug>41407</bug>: Add support for CLIENT-CERT to the JASS Realm. (markt)
      </add>
      <fix>
        NPE on shutdown when an error occurs starting connectors. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Consider that a normal request is Comet (it is possible to get a resume before
        officially going into Comet mode). (remm)
      </fix>
      <fix>
        Add configuration checks for java.io SSL. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <add>
        <jira>108</jira>: Experimental support for JCI. (remm)
      </add>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR5 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        <bug>45332</bug>: Don't assume UTF-8 and use the correct encoding when generating
        tomcat-users.xml from the Windows installer. (markt)
      </fix>
      <update>
        NSIS 2.38. (remm)
      </update>
      <update>
        JBoss Native 2.0.4. (remm)
      </update>
      <update>
        Commons Collections 3.2.1. (remm)
      </update>
      <update>
        Eclipse JDT 3.4. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <jboss-jira>JBAS-4965</jboss-jira>: Ignore exploded JARs in extension validator to avoid classcast. (remm)
      </fix>
      <fix>
        <bug>45285</bug>: Look for annotations up the class hierarchy. (markt)
      </fix>
      <fix>
        Concurrency issues on ClusterListener.status with multiple engines. (jfclere)
      </fix>
      <fix>
        <bug>42678</bug>: Only ignore docBase it it really is a subdir of appBase. (markt)
      </fix>
      <fix>
        <bug>42722</bug>: Fix possible NPE in CGI. (markt)
      </fix>
      <fix>
        org.jboss.web should be loaded as container classes. (remm)
      </fix>
      <fix>
        <bug>42727</bug>: Handle request lines that are exact multiples of 4096 in length.
        Patch provided by Will Pugh. (markt)
      </fix>
      <fix>
        Instance manager checks were not done properly. (remm)
      </fix>
      <fix>
        Prevent various possible character encoding hacks. (remm)
      </fix>
      <fix>
        <jira>16</jira>: Add new catalina.work system property to use as the optional base for work folders. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>42565</bug>: EL ternary expression without space before colon now works. 
        Patch provided by Lucas Galfaso. (markt)
      </fix>
      <fix>
        <jira>98</jira>: Remove mandatory usage of URLClassLoader for better integration with AS. (remm)
      </fix>
      <fix>
        <jira>110</jira>: Remove the per request logging of everything in JSP Servlet, which caused 
        i18n issues. (remm)
      </fix>
      <update>
        Add a system property to disable injection for tags. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Native">
    <changelog>
      <fix>
        Remove system.out. (jfclere)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR4 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Update to NSIS 2.37. (remm)
      </update>
      <update>
        Update to JDT 3.3.3. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <update>
        ClusterListener will automatically generate a JVMRoute in most cases. (remm)
      </update>
      <update>
        Register ClusterListener in JMX. (remm)
      </update>
      <fix>
        Improve fault recovery of ClusterListener. (remm)
      </fix>
      <update>
        Add JMX callbacks to refresh configuration, enable and disable all contexts. (remm)
      </update>
      <update>
        Add all CONFIG parameters to the cluster listener as fields. (remm)
      </update>
      <fix>
        <bug>43683</bug>: If the context is reloaded, the classloader will have changed so need to reset it. (markt)
      </fix>
      <fix>
        <bug>45101</bug>: Format dates for header value from DirContextURLConnection using HTTP format.
        Patch provided by Chris Hubick. (markt)
      </fix>
      <fix>
        Avoid overriding existing system properties. (remm)
      </fix>
      <update>
        Add security to ClusterListener using SSL and possible client certificate usage. (remm)
      </update>
      <update>
        Add HTTP/1.0 keep-alive to ClusterListener. (remm)
      </update>
      <add>
        Add a new valve that works-around the broken MS WedDAV client. (markt)
      </add>
      <fix>
        Fix XSS in the host manager. (markt)
      </fix>
      <add>
        Add discovery of httpd servers to ClusterListener. (remm)
      </add>
      <fix>
        Possible NPE when logging on shutdown. (fhanik)
      </fix>
      <fix>
        <bug>45195</bug>: NPE when calling getAttribute(null). (markt)
      </fix>
      <fix>
        <bug>43683</bug>: There was a short period where the context didn't appear in the mapper 
        that resulted in some more 404s. (markt)
      </fix>
      <fix>
        Allow to start several JBossWEB on one machine with multiple IP. (jfclere)
      </fix>
      <fix>
        <jboss-jira>JBAS-5645</jboss-jira>: Fix FORM issues with body. (jfclere)
      </fix>
      <fix>
        Better information if native library fails to load. (jfclere)
      </fix>
      <fix>
        <jboss-jira>JBAS-5636</jboss-jira>: In DELAY_CONNECTOR_STARTUP mode, also let the embedding server 
        control stopping the connectors. (remm)
      </fix>
      <fix>
        <jboss-jira>JBAS-5671</jboss-jira>: Check the right child is passed when removing it. (remm)
      </fix>
      <fix>
        Extract the query string before normalization when getting a request dispatcher. (remm)
      </fix>
      <update>
        Update the Comet API names to org.jboss.servlet.http. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <update>
        <bug>43094</bug>: Allow specification of keystore providers. Based on a
        patch by Bruno Harbulot. (markt)
      </update>
      <fix>
        After completing an asynchronous sendfile, the socket should be placed in the main poller
        rather than assigned to a worker (where it would block). (remm)
      </fix>
      <fix>
        Close the connection if there's an attempt to pipeline requests when using Comet or an
        asynchronous sendfile is needed. (remm)
      </fix>
      <fix>
        <bug>42750</bug>: Make parsing of request line more tolerant of multiple SP and/or HT. (markt)
      </fix>
      <fix>
        <bug>45272</bug>: IE is not fully compliant, and the redone cookies could cause issues with
        quoted paths. (fhanik)
      </fix>
      <fix>
        Do not use custom messages in headers by default. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>44994</bug>: Correct BNF grammar so ${0 lt a ? 1 lt a ? "many": "one": "none"} works. (markt)
      </fix>
      <fix>
        Add an additional layer of protection in case app fails to protect against an XSS.
        Copied filter code to jasper module so no new dependency is created. (markt)
      </fix>
      <fix>
        <bug>43285</bug>: Make forced coercion of null and "" to zero optional. Patch by Nils Eckert. (markt)
      </fix>
      <fix>
        <bug>45015</bug>: Raise an error if attributes are not correctly quoted, with an option
        to disable. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR3 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        <bug>44988</bug>: Use new Java 5 syntax for debugger options. Patch provided by Cedrik Lime. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>42934</bug>: Trigger contextInitialized() before sessionDidActivate(). (markt)
      </fix>
      <add>
        Initial ClusterListener implementation for mod_cluster support. (remm)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>44968</bug>: Provide more information when keystore load fails. (markt)
      </fix>
      <fix>
        <jboss-jira>JBCTS-794</jboss-jira>: Case insensitivity bug enumerating parameter names. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>44986</bug>: Case insensitive comparison of charsets. (markt)
      </fix>
      <fix>
        <bug>42943</bug>: Make sure the nested element is inside a &lt;jsp:text&gt; element. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR2 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Add Maven target to the dist script. (remm)
      </update>
      <fix>
        <bug>43578</bug>: Tomcat doesn't start if installation path contains a space.
        Patch submitted by Ray Sauers. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>43142</bug>: Directory xxx.war is not always a war. (markt)
      </fix>
      <fix>
        <jboss-jira>JBCTS-778</jboss-jira>: Fix updating charsWritten. (remm)
      </fix>
      <fix>
        <bug>43343</bug>: Correctly handle the case where a request arrives for a session 
        we are in the middle of persisting. (markt)
      </fix>
      <fix>
        <bug>43150</bug>: Improve URL conversion so that some more special chars can be used
        in the installation path. (markt)
      </fix>
      <fix>
        <bug>43117</bug>: Setting an empty workDir can delete all of CATALINA_HOME.
        Patch provided by Takayuki Kaneko. (markt)
      </fix>
      <fix>
        <bug>43079</bug> and <bug>43080</bug>: Move odd url-pattern warning to StandardContext so a) we catch all patterns
        and b) it isn't logged to the wrong webapp. Based on a patch by John Kew. (markt)
      </fix>
      <fix>
        <bug>44021</bug>: Add support to manger and deployer for wars and dirs that use # to denote multi-level contexts. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <jboss-jira>JBCTS-779</jboss-jira>: Exception types for invalid charset (should return the
        java.io exception rather than the java.nio one). (remm)
      </fix>
      <fix>
        <bug>43191</bug>: No way to turn off compression for some mime-types. Based on a patch 
        by Len Popp. (markt)
      </fix>
      <fix>
        <bug>43094</bug>: Support keystoreTypes that don't need a file. Based on a patch 
        by Bruno Harbulot. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <jboss-jira>JBCTS-776</jboss-jira>: NPE regression in EL type handling. (remm)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.1.CR1 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Update to more polished CSS, submitted by James Cobb. (remm)
      </fix>
      <fix>
        Remove tomcat-native.tar.gz from the distribution (JBoss Native should be used instead). (remm)
      </fix>
      <fix>
        <bug>44562</bug>: HEAD requests cannot use includes. Patch provided by
        David Jencks. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Add 3 system properties to StandardHost to allow hardcoding safe default values for the
        auto deployer when JBoss Web is embedded inside AS. (remm)
      </fix>
      <update>
        Add Comet EOF event when the end of the stream is reached without an error. (remm)
      </update>
      <fix>
        Remove hackish code to get the System environment in the CGI Servlet. (markt)
      </fix>
      <fix>
        <bug>44529</bug>: No roles (deny all) trumps no auth-constraint (allow all). (markt)
      </fix>
      <fix>
        <bug>44673</bug>: Fix ServletInputStream still readable when closed. (markt)
      </fix>
      <fix>
        <bug>44611</bug>: Implement DirContextURLConnection.getHeaderFields(), fix case
        sensitivity problem and return null for header values which don't exist. (markt)
      </fix>
      <fix>
        <bug>44646</bug>: Fix tracking problems in the Comet utility valve (which provides
        notification for certain events such as session expiration and server shutdown). (markt)
      </fix>
      <fix>
        Better handling of lack of permission for context specific logging, and add permission
        for reading the JDK logging.properties. (markt)
      </fix>
       <fix>
        <bug>44391</bug>: Correct handling of escaped values in SSI processing. (markt) 
      </fix>
       <fix>
        <bug>44392</bug>: HTML entities now handled correctly in SSI processing. (markt)
      </fix>
      <fix>
        Add system properties for JBoss default allowing not starting the context in init, and set
        the configClass field. (remm)
      </fix>
      <fix>
        <bug>43683</bug>: Need to identify new wrapper for queued request after reload. (remm)
      </fix>
      <fix>
        <bug>29936</bug>: In some circumstances, Tomcat would use the parser from a webapp 
        to parse web.xml and possibly context.xml files. (markt)
      </fix>
      <fix>
        <bug>43470</bug>: Fix cut and paste errors in NamingResources, submitted 
        by Lucas Galfaso. (markt)
      </fix>
      <fix>
        <bug>43425</bug>: Annotations not spec compliant. Submitted by Dain Sundstrom. (markt)
      </fix>
      <fix>
        <bug>43366</bug>: Provide backwards compatibility for sessions command. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <jira>105</jira>: The code that processes parameters from chars[] is incorrect. (jfclere)
      </fix>
      <fix>
        Better fix for cookie path quoting scenario. (markt)
      </fix>
      <fix>
        Possible NPE on shutdown if Comet is used. (remm)
      </fix>
      <fix>
        Improve accuracy of typical timeout values. (remm)
      </fix>
      <fix>
        Comet state recycling. (remm)
      </fix>
      <update>
        Add support for specifying defaults for properties (format is ${property:default}). (remm)
      </update>
      <update>
        <bug>44494</bug>: Fix incorrect reads with multibyte charsets by moving the byte to char
        converter to the NIO character decoders. (remm)
      </update>
      <update>
        For consistency, refactor character output using the NIO character decoders. (remm)
      </update>
      <update>
        Move the parameters backend to the probably more efficient MultiMap from Hashtable,
        and remove the nesting capabilities inherited from Tomcat 3. (remm)
      </update>
      <update>
        Repackage MimeHeaders and Parameters using inner classes, and remove all obsolete
        collections. (remm)
      </update>
      <fix>
        maxSavePostSize set to 0 for HTTP connectors should disable buffering done before SSL
        handshake. (remm)
      </fix>
      <update>
        Add reverse connection method (from the Java server to the proxy), which could
        suppsedly provide better security, and could also improve quality of service. (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>42693</bug>: Port Tomcat fix for bugzilla 42693. (jfclere).
      </fix>
      <fix>
        <bug>44428</bug>: NPE in function mapper. (markt)
      </fix>
      <fix>
        Make number types handling more flexible in EL. (markt)
      </fix>
      <fix>
        <bug>43656</bug>: coerceToType() modified some values, and additional numeric type fixes.
        Patch provided by Nils Eckert. (markt)
      </fix>
      <fix>
        <bug>31257</bug>: Quote endorsed dirs if they contain a space. (markt)
      </fix>
      <fix>
        <bug>43617</bug>: Correctly handle quotes in attribute values for tag(x) files. (remm)
      </fix>
      <fix>
        <bug>44877</bug>: Prevent collisions in tag pool names. (markt)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="JBoss Web 2.1.0 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Swicth to JBoss logging from Apache Commons Logging. Standalone JBoss Web uses
        a special purpose version defaulting to use java.util.logging. (remm)
      </update>
      <fix>
        Fix licensing problems with two xsd files. (remm)
      </fix>
      <update>
        Update to NSIS 2.35, and allow building it using Wine. (remm)
      </update>
      <update>
        Update to commons-pool version 1.4, native version 1.1.12 and update
        the download location for the commons libraries. (markt)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>43588</bug>: hard coded 127.0.0.1 for localhost. It requires localhost to be defined correctly in the machine. (jfclere)
      </fix>
      <fix>
        Prevent cookie logic to escape quotes where the value is already a quoted-string. (jfclere)
      </fix>
      <fix>
        Fix version handling in cookies. (jfclere)
      </fix>
      <update>
        Remove Tomcat standalone session clustering. (remm)
      </update>
      <update>
        Add a system property to delay startup of connectors for JBoss, which also could be useful
        in similar embedding scenarios. (remm)
      </update>
      <update>
        Add context listener configuration. (remm)
      </update>
      <add>
        Expanded and revised Tomcat 6.0 Comet API as org.jboss.web.comet API. (remm)
      </add>
      <update>
        Remove user database functionality, which didn't see any development besides the original
        memory based backend introduced in Tomcat 4.1. Also remove associated roles management
        features. (remm)
      </update>
      <update>
        Add rewrite valve and PHP servlet from JBoss Web 2.0. (remm)
      </update>
      <fix>
        Use the system property for the session cookie name. (jfclere)
      </fix>
      <fix>
        Move waiting time for requests to complete to the connector pause. (remm)
      </fix>
      <fix>
        Update session cookie handling (path always set to /) and id generation (check host's webapps for a matching id). (remm)
      </fix>
      <fix>
        More extensible SSO. (remm)
      </fix>
      <fix>
        Fix a bug that causes CGI Servlet to fail when it is included. (markt)
      </fix>
      <fix>
        Fix invoking CometEvent.close during begin. (remm)
      </fix>
      <fix>
        Improve error codes returned when no host or no context is matched. (remm)
      </fix>
      <fix>
        <bug>43706</bug>: WebDAV copy/move now returns 201 on success. Based on
        a patch by Panagiotis Astithas. (markt)
      </fix>
      <fix>
        <bug>43887</bug>: Make error messages much more helpful when illegal
        Servlet names are used. Based on a patch provided by Mike Baranczak.
        (markt)
      </fix>
      <update>
        Improve the webDAV Servlet Javadocs to make clear that the WebDAV
        Servlet can not be used as the default servlet. (markt)
      </update>
      <fix><bug>43687</bug> Remove conditional headers on Form Auth replay, 
           since the UA (esp. FireFox) isn't expecting it.
      </fix>
      <fix>
        <bug>43594</bug>: Use setenv from CATALINA_BASE (if set) in preference
        to the one in CATALINA_HOME. Patch provided by Shaddy Baddah. (markt)
      </fix>
      <fix>
        <bug>43957</bug>: Service.bat doesn't configure logging correctly. Patch
        provided by  Richard Fearn. (markt)
      </fix>
      <fix>
        Fix IOException handling when parsing post parameters. (remm)
      </fix>
      <fix>
        Fix possible race condtion when a webapp classloader has external class 
        repositories defined. (remm)
      </fix>
      <fix>
        <bug>43236</bug>: When resetting the response, also reset the flags
        associated with using a writer or an output stream to allow the user to
        change character set after the reset. (markt)
      </fix>
      <fix>
        <bug>43241</bug>: Make ServletContext.getResourceAsStream() conform to
        the specification. Patch provided by John Kew. (markt)
      </fix>
      <fix>
        <bug>44084</bug>: JASSRealm was broken for application provided
        Principals. Patch provided by Noah Levitt. (markt)
      </fix>
      <fix>
        <bug>43914</bug>: URLs in location headers should be encoded. Patch
        provided by Ivan Todoroski. (markt)
      </fix>
      <fix>
        Add org.apache.catalina.loader.WebappClassLoader.SYSTEM_CL_DELEGATION boolean system
        property to avoid systematic system CL delegation if needed. (remm)
      </fix>
       <fix>
         Set correct StandardManager.sessionCounter after reload/restart. (pero)
      </fix>
      <fix>
         <bug>44268</bug>: Log a warning when a duplicate listener is ignored. (markt)
      </fix>
      <fix>
         Ignore not found readme and xslt in DefaultServlet. (remm)
      </fix>
      <fix>
        Fix possible NPE processing session expires. (fhanik)
      </fix>
      <fix>
        Avoid verbose exception with empty URLs. (markt)
      </fix>
      <fix>
        ExtendedAccessLogValve cs-uri not print empty querystring (pero)
      </fix>
      <fix>
         <bug>44389</bug>: Memory leak caused by non static innerclass of ApplicationContext. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <update>
        Remove HTTP NIO connector. (remm)
      </update>
      <update>
        Remove legacy org.apache.jk AJP connector and utility components, replaced
        by the org.apache.coyote.ajp connector. (remm)
      </update>
      <fix>
        Additional cookie fixes. (jfclere)
      </fix>
      <fix>
        <bug>43622</bug>: Don't overwrite the min compression size set by the
        compression attribute with the default. (markt)
      </fix>
      <fix>
        No need to swallow input if there is an error. (remm)
      </fix>
      <fix>
        <bug>43868</bug>: MBean methods getInvoke() and getSetter() were broken. (markt)
      </fix>
      <fix>
        <bug>44223</bug>: Add support for remaining truststore system property. (markt)
      </fix>
      <fix>
        Simplify response reset. (remm)
      </fix>
      <fix>
        <bug>44558</bug>: Include address in bind exception message. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        Remove log field for XML handlers. (remm)
      </fix>
      <fix>
        <bug>43702</bug>: Inner class files have unnecessarily long names. (markt)
      </fix>
      <fix>
        <bug>43757</bug>: Rather than use string matching to work out the line
        in the JSP with the error, use the SMAP info and the knowledge that for
        a scriptlet there is a one to one line mapping. (markt)
      </fix>
      <fix>
        <bug>43285</bug>: Missing EL Coercion causes argument type mismatch.
        Patch provided by Bernhard Huemer. (funkman/jim)
      </fix>
      <fix>
        <bug>43909</bug>: Make sure locale maps to wrapped ELContext. Patch
        provided by Tuomas Kiviaho. (markt)
      </fix>
      <fix>
        <bug>43944</bug>: Fix a missing resource exception. (markt)
      </fix>
      <fix>
        <bug>43758</bug>: Fix NPE with empty scripting elements. (markt)
      </fix>
      <fix>
        <bug>43743</bug>: Correctly handle nest tag files packaged in a jar. (markt)
      </fix>
      <fix>
        Finish removing of some URL CL hardcoding. If parent CL is not a URL CL, the Ant classpath cannot
        be generated, and security setup might be incomplete. (remm)
      </fix>
      <fix>
        <bug>44408</bug>: Remove useless synchronization. (remm)
      </fix>
      <fix>
        <bug>43925</bug>: Optimize allocation style for bodies (this removes the no-GC mode, however),
        submitted by Brian Remmington. (remm)
      </fix>
      <fix>
        <bug>43741</bug>: Improve handling of tags inside JARs. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
        <bug>43611</bug>: Provide an error message if user tries to upload a war
        for a context defined in server.xml rather than failing silently.
        (markt)
      </fix>
      <fix>
        <bug>44088</bug>: Fix expire session button in manager. (markt)
      </fix>
      <fix>
        <bug>43468</bug>: Fix possible NPE when listing contexts in the Manager
        application. (markt)
      </fix>
      <fix>
        <bug>43515</bug>: Fix bug in Manager application that may have caused
        problems when listing contexts. Patch provided by Lucas Galfaso. (markt)
      </fix> 
      <fix>
        Fix ManagerServlet.exipreSession throws Exceptions as iterate longer 
        session lists at production servers. (pero)
      </fix>
    </changelog>
  </subsection>
</section>

<section name="Tomcat 6.0.15 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Use Eclipse JDT 3.3.1. (pero)
      </fix>
      <update>
        Try to guess java path in Unix scripts. (jfclere)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>30949</bug>: Improve previous fix. Ensure requests are re-cycled
        on cross-context includes and forwards when an exception occurs in the
        target page. (markt)
      </fix>
      <fix>
        <bug>42944</bug>: Correctly handle servlet mappings that use a '+'
        character as part of the url pattern. (markt)
      </fix>
      <fix>
         <bug>42951</bug>: Don't use CATALINA_OPTS when stopping Tomcat. This
         allows options for starting and stopping to be set on JAVA_OPTS and
         options for starting only to be set on CATALINA_OPTS. Without this
         fix, some startup options (eg the port for remote JMX) would cause
         stop to fail. Based on a fix suggested by Michael Vorburger.
         Port of r454193 (<bug>36976</bug>) from Tomcat 5.5.x. (markt,rjung)
      </fix>
      <add>
         Validation of attributes and elements used in server.xml. (remm)
      </add>
      <fix>
        <bug>43175</bug>: Fix typos in servlet XSD files. Patch provided by
        Takayuki Kaneko. (markt)
      </fix>
      <fix>
        <bug>43216</bug>: Set correct StandardSession#accessCount as StandardSession.ACTIVITY_CHECK is true.
        Patch provided by Takayuki Kaneko (pero)
      </fix>
      <add>
        Made session createTime accessible for all SessionManager via JMX (pero)
      </add>
      <update>
        <bug>43129</bug>: Support logging of all response header values at AccessLogValve (ex. add %{Set-Cookie}o to your pattern). (pero)
      </update>
      <add>
        Support logging of all response header values at ExtendedAccessLogValve (ex. add x-O(Set-Cookie) to your pattern). (pero)
      </add>     
      <add>
        Support logging of current thread name at AccessLogValve (ex. add %I to your pattern).
        Usefull to compare access logging entry later with a stacktraces. (pero)
      </add>
      <fix>
        Improve large-file support (more then 4 Gb) at all AccessLogValves, backport from 5.5.25. (pero)
      </fix>     
      <update>
        Optimized JDBCAccessLogValve combined pattern request attribute access. (pero)
      </update>
      <fix>
        o.a.juli.ClassLoaderLogManager handle more then one system property replacement at file logging.properties. (pero)
      </fix>
      <fix>
        <bug>43338</bug>: Support '*' servlet-name mapping at filter-mapping.
        Patch provided by Keiichi Fujino. (pero)
      </fix>
      <fix>
        <bug>41797</bug>: CNFE/NPE thrown from function mapper when externalizing
        Patch by Tuomas Kiviaho- tuomas.kiviahos at ikis fi (funkman)
      </fix>
      <fix>
        Call stopAwait in StandardServer.stop if port == -1. (pero)
      </fix>
      <fix>
        <bug>43487</bug>: Fix request processing stats. (fhanik)
      </fix>  
      <fix>
        Fix CVE-2007-5461, an important information disclosure vulnerability in
        the WebDAV Servlet. Based on a patch by Marc Schoenefeld. (markt)
      </fix>
      <fix>
        Call stopAwait in StandardServer.stop if port == -1. (pero)
      </fix>
      <fix>
        <bug>43668</bug>: Fix problem on a Forward when the outer most wrapper isn't a HttpServletRequest/ResponseWrapper. (billbarker)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        In the APR connector, start accepting connections after fully starting
        the connector, to prevent possible exceptions due to non initialized fields. (remm)
      </fix>
      <fix>
        Fixes to B2C conversion. (billbarker)
      </fix>
     <update>
        Cookie parser refactoring, submitted by John Kew. (remm)
      </update>
      <fix>
        Make cookie escaping / unescaping consistent. (markt)
      </fix>
      <fix>
        <bug>43479</bug>: Memory leak cleaning up sendfile connections, submitted by Chris Elving. (remm)
      </fix>
      <fix>
        <bug>42925</bug>: Add maintain for sendfile. (remm)
      </fix>
      <fix>
        Properly close sockets for java.io AJP connector. (jfclere)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>37326</bug>: No error reported when an included page does not
        exist. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
        Fix WebDAV Servlet so it works correctly with MS clients. (markt)
      </fix>
      <fix>
        Fix CVE-2007-5461, an important information disclosure vulnerability in
        the WebDAV Servlet. (markt)
      </fix>
      <fix>
        <bug>42979</bug>: Update sample.war to include recent security fixes
        in the source code. (markt)
      </fix>
      <fix>
        Minor connector doc fix. (jfclere)
      </fix>
    </changelog>
  </subsection>
  
</section>

<section name="Tomcat 6.0.14 (remm)">
  <subsection name="General">
    <changelog>
      <docs>
        Correct j.u.l log levels in JULI docs. (rjung)
      </docs>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Handle special case of ROOT when re-loading webapp after ROOT.xml has
        been modified. In some circumstances the reloaded ROOT webapp had no
        associated resources. (markt)
      </fix>
      <fix>
        Remove invalid attribute "encoding" of MBean MemoryUserDatabase,
        which lead to errors in the manager webapp JMXProxy output. (rjung)
      </fix>
      <fix>
        <bug>33774</bug> Retry JNDI authentiction on ServiceUnavailableException
        as at least one provider throws this after an idle connection has been
        closed. (markt)
      </fix>
      <fix>
         <bug>39875</bug>: Fix BPE in RealmBase.init(). Port of yoavs's fix from
         Tomcat 5. (markt)
      </fix>
      <fix>
        <bug>41722</bug>: Make the role-link element optional (as required by
        the spec) when using a security-role-ref element. (markt)
      </fix>
      <fix>
         <bug>42361</bug>: Handle multi-part forms when saving requests during
         FORM authentication process. Patch provided by Peter Runge. (markt)
      </fix>
      <fix>
         <bug>42401</bug>: Update RUNNING.txt with better JRE/JDK information.
         (markt)
      </fix>
      <fix>
         <bug>42444</bug>: prevent NPE for AccessLogValve
         Patch provided by Nils Hammar (funkman)
      </fix>
      <fix>
         <bug>42449</bug>:
         JNDIRealm does not catch NullPointerException for Sun's
         LDAP provider (See bug for details) (funkman)
      </fix>
      <fix>
         <bug>42497</bug>: Ensure ETag header is present in a 304 response.
         Patch provided by Len Popp. (markt)
      </fix>
      <fix>
        Fix XSS security vulnerability (CVE-2007-2450) in the Manager and Host
        Manager. Reported by Daiki Fukumori. (markt)
      </fix>
      <fix>
        <bug>42547</bug>: Fix NPE when a ResourceLink in context.xml tries to
        override an env-entry in web.xml. (markt)
      </fix>
      <fix>
        Avoid some casting in ErrorReportValve (remm)
      </fix>
      <fix>
        Fix persistence API annotation, submitted by Bill Burke (remm)
      </fix>
      <fix>
        In Comet mode, if bytes are not read, send an error event (otherwise, 
        fields referring to the connection could remain) (remm)
      </fix>
      <fix>
        Fix Comet when running Tomcat with the security manager (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>39425</bug> Add additional system property permission to
        catalina.policy for pre-compiled JSPs. (markt)
      </fix>
      <fix>
        <bug>42438</bug> Duplicate temporary variables were created when
        jsp:attribute was used in conjunction with custom tags. Patch provided
        by Brian Lenz. (markt)
      </fix>
      <fix>
        <bug>42643</bug> Prevent creation of duplicate JSP function mapper
        variables. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Separate sequence increment from getter in ThreadPool to avoid
        misleading increments during monitoring via JMX. (rjung)
      </fix>
      <fix>
        Add back missing socketBuffer attribute in the java.io HTTP connector (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
        Don't write error on System.out, use log() instead. (rjung)
      </fix>
      <fix>
        <bug>39813</bug>: Correct handling of new line characters in JMX
        attributes. Patch provided by R Bramley. Ported from tc5.5.x r415029. (markt,rjung)
      </fix>
      <fix>
         <bug>42459</bug>: Fix Tomcat Web Application Manager table error. (rjung)
      </fix>
      <fix>
        Fix XSS security vulnerabilities (CVE-2007-2449) in the examples.
        Reported by Toshiharu Sugiyama. (markt)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.13 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
         More accurate available() method. (remm)
      </fix>
      <fix>
         Add recycle check in the event object, since it is a facade like the others. (remm)
      </fix>
      <fix>
         When processing a read event, enforce that the servlet consumes all available bytes. (remm)
      </fix>
      <update>
         Add a flag in ContainerBase which could be used in embedded scenarios to avoid a double start
         of contexts (this problem generally occurs when adding contexts to a started host). (remm)
      </update>
      <fix>
         <bug>42309</bug>: Ability to create a connector using a custom protocol specification for embedded.
         (fhanik)
      </fix>
      <fix>
         Add SSL engine flag to AprLifecycleListener. (fhanik)
      </fix>
      <fix>
         Improve event processing, so that an END event is generated when encountering EOF, and an
         ERROR is always generated on client disconnects. (remm)
      </fix>
      <fix>
         Add declarations for the new XSD files. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
         Add heartbeatBackgroundEnabled flag to SimpleTcpCluster. 
         Enable this flag don't forget to disable the channel heartbeat thread (pero)
      </fix>
      <fix>
         Possible memory leak when using comet, caused by adding the socket to the poller before
         cleaning up the connection tracking structure. (remm)
      </fix>
      <fix>
         <bug>42308</bug>: nextRequest recycles the request, which caused issues with statistics. (remm)
      </fix>
      <fix>
         Fix non recycled comet flag in the APR connector. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Cluster">
    <changelog>
      <fix>
         Add heartbeatBackgroundEnabled flag to SimpleTcpCluster. 
         Enable this flag don't forget to disable the channel heartbeat thread (pero)
      </fix>
      <fix>
         Method name cleanup. (fhanik)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
         Some examples webapp fixes. Submitted by Frank McCown. (remm)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.12 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        License source headers. Submitted by Niall Pemberton. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>42039</bug> Log a stack trace if a servlet throws an
         UnavailableException. Patch provided by Kawasima Kazuh. (markt)
      </fix>
      <fix>
        <bug>41990</bug> Add some additional mime-type mappings. (markt)
      </fix>
      <fix>
        <bug>41655</bug> Fix message translations. Japanese translations
        provided by Suzuki Yuichiro. (markt)
      </fix>
      <add>
        Add enabled attribute to AccessLogValve (pero)
      </add>
      <fix>
        <bug>42085</bug>: Avoid adding handlers for the root logger twice when they are explicitly 
        specified. (remm)
      </fix>
      <fix>
        Reduce thread local manipulation in the request dispatcher. Submitted by
        Arvind Srinivasan. (remm)
      </fix>
      <fix>
        Avoid keeping references to loggers tied to the webapp classloaders after a reload in
        a couple more places. (remm)
      </fix>
      <fix>
        <bug>42202</bug>: Fix container parsing of TLDs in webapps when Tomcat is installed in
        a URL encodable path. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>42119</bug> Fix return value for request.getCharacterEncoding() when
        Content-Type headers contain parameters other than charset. Patch by
        Leigh L Klotz Jr. (markt)
      </fix>
      <update>
        Move away from using a thread local processor for the APR and java.io 
        connectors, as this does not work well when using an executor. (remm)
      </update>
      <fix>
        Remove Comet timeout hack in the APR connector. Comet connections will now
        use the regular timeout or the keepalive timeout if specified. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
        <bug>42025</bug>: Update valve documentation to refer to correct regular
        expression implementation. (markt)
      </fix>
      <fix>
        Fix various paths in the manager webapps (remm)
      </fix>
      <add>
        Session viewer and editor for the HTML manager. Submitted by Cédrik Lime. (remm)
      </add>
      <add>
        Session handling tools for the manager. Submitted by Rainer Jung. (remm)
      </add>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>41869</bug> TagData.getAttribute() should return
        TagData.REQUEST_TIME_VALUE when the attribute value is an EL expression.
        (markt)
      </fix>
      <fix>
        <bug>42071</bug> Fix IllegalStateException on multiple requests to
        an unavailable JSP. Patch provided by Kawasima Kazuh. (markt)
      </fix>
      <fix>
        After a JSP throws an UnavailableException allow it to be accessed once
        the unavailable period has expired. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Cluster">
    <changelog>
      <fix>
         Add toString method to better logging session replication message at tribes MESSAGES (pero)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.11 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Update DBCP to 1.2.2, pool to 1.3, JDT to 3.2.2 and remove collections
        build dependency (pero, remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Don't log pattern subtoken at ExtendedAccesLogValve (pero)
      </fix>
      <fix>
        Add some missing JMX attributes for new AccessLogValve (pero)
      </fix>
      <fix>
        <bug>41786  </bug> Incorrect reference to catalina_home in catalina.sh/bat Patch provided by Mike Hanafey (fhanik)
      </fix>
      <fix>
        <bug>41703</bug> SingleSignOnMessage invalid setter, patch provided by Nils Hammar (fhanik)
      </fix>
      <fix>
        <bug>41682</bug> ClassCastException when logging is turned on (fhanik)
      </fix>
      <fix>
        <bug>41530  </bug>Don't log error messages when connector is stopped (fhanik)
      </fix>
      <fix>
        <bug>41166</bug> Invalid handling when using replicated context (fhanik)
      </fix>
      <add>
        Added SENDFILE support for the NIO connector. (fhanik) <br/>
      </add>
      <add>
        Added support for shared thread pools by adding in the &lt;Executor&gt;
        element as a nested element to the &lt;Service&gt; element. (fhanik)
      </add>
      <fix>
        <bug>41666</bug> Correct handling of boundary conditions for
        If-Unmodified-Since and If-Modified-Since headers. Patch provided by
        Suzuki Yuichiro. (markt)
      </fix>
      <fix>
        <bug>41739</bug> Correct handling of servlets with a load-on-startup
        value of zero. These are now the first servlets to be started. (markt)
      </fix>
      <fix>
        <bug>41747</bug> Correct example ant script for deploy task. (markt)
      </fix>
      <fix>
        <bug>41752</bug> Correct error message on exception in MemoryRealm.
        (markt)
      </fix>
      <update>
        <bug>39883</bug> Add documentation warning about using antiResourceLocking
        on a webapp outside the Host's appBase. (yoavs)
      </update>
      <fix>
        <bug>40150</bug> Ensure user and roll classnames are validated on startup.  Patch by
          Tom. (yoavs)
      </fix>
      <update>
        Refactor extend access log valve using the optimized access log valve. Submitted by
        Takayuki Kaneko. (remm)
      </update>
      <fix>
        Possible deadlock in classloading when defining packages. (remm)
      </fix>
      <fix>
        Remove excessive syncing from listener support. (remm)
      </fix>
      <add>
        Web services support. The actual factory implementations are implemented in the
        extras. Submitted by Fabien Carrion. (remm)
      </add>
      <update>
        Add logging to display APR capabilities on the platform. (remm)
      </update>
      <fix>
        Expose executors in JMX. (remm)
      </fix>
      <fix>
        CRLF inside a URL pattern is always invalid. (remm)
      </fix>
      <fix>
        Tweak startup time display. (remm)
      </fix>
      <fix>
        Adjustments to handling exceptions with Comet. (remm)
      </fix>
      <fix>
        If the event is closed asynchronously, generate an end event for cleanup on the 
        next event. (remm)
      </fix>
      <fix>
        Cleanup hello webapp from the docs and fix a XSS issue in the JSP.  (remm)
      </fix>
      <fix>
        Examples webapp cleanup. Submitted by Takayuki Kaneko and Markus Schönhaber. (remm)
      </fix>
      <fix>
        <bug>41289</bug>: Create configBase, since it is no longer created elsewhere.
        Submitted by Shiva Kumar H R. (remm)
      </fix>
     </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <update>
        Fixed NIO memory leak caused by the NioChannel cache not working properly.
      </update>
      <update>
        Added flag to enable/disable the usage of the pollers selector instead of a Selector pool
        when the serviet is reading/writing from the input/output streams
        The flag is <code>-Dorg.apache.tomcat.util.net.NioSelectorShared=true</code>
      </update>
      <fix>
        Requests with multiple content-length headers are now rejected. (markt)
      </fix>
      <add>
        <bug>41675</bug> Add a couple of DEBUG-level logging statements to Http11Processors
          when sending error responses.  Patch by Ralf Hauser. (yoavs)
      </add>
      <fix>
        Reuse digester used by the modeler. (remm)
      </fix>
      <update>
        When the platform does not support deferred accept, put accepted sockets in the 
        poller. (remm)
      </update>
      <fix>
        Fix problem with blocking reads for keepalive when using an executor (the number 
        of busy threads is always 0). (remm)
      </fix>
      <update>
        The poller now has good performance, so remove firstReadTimeout. (remm)
      </update>
      <fix>
        <bug>42119</bug> Fix return value for request.getCharacterEncoding() when
        Content-Type headers contain parameters other than charset. Patch by
        Leigh L Klotz Jr. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
        Fix previous update to servlet 2.5 xsd to use correct declaration.
        (markt)
      </fix>
      <update>
        Update host configuration document for new behaviour for directories
        in appBase. (markt)
      </update>
      <update>
        <bug>39540</bug> Add link to httpd 2.2 mod_proxy_ajp docs in AJP connector doc. (yoavs)
      </update>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>41227</bug> Add a bit of DEBUG-level logging to JspC so users know
          which file is being compiled. (yoavs)
      </fix>
      <update>
        Remove some dead utility code, and refactor stream capture as part of the Ant compiler. (remm)
      </update>
      <fix>
        Support the trim directive of JSP 2.1 as an equivalent of Jasper's own parameter. (remm)
      </fix>
      <fix>
        <bug>41790</bug>: Close file stream used to read the Java source. (remm)
      </fix>
      <fix>
        Fix reporting of errors which do not correspond to a portion of the JSP source. (remm)
      </fix>
      <fix>
        Remove try/catch usage for annotation processing in classic tags. The usage 
        of the log method might have been questionable as well. (remm)
      </fix>
      <fix>
        Cleanup of the message that is displayed for compilation errors. (remm)
      </fix>
      <fix>
        Skip BOM when reading a JSP file. (remm)
      </fix>
    </changelog>
  </subsection>
 </section>
<section name="Tomcat 6.0.10 (remm)">
  <subsection name="Catalina">
    <changelog>
      <update>
        Unify usage of security manager flag, submitted by Arvind Srinivasan. (remm)
      </update>
      <fix>
        Fix formatting of CGI variable SCRIPT_NAME. (markt)
      </fix>
      <fix>
        <bug>41521</bug>: Support * for servlet-name, submitted by Paul McMahan. (remm)
      </fix>
      <update>
        Cache getServletContext value, submitted by Arvind Srinivasan. (remm)
      </update>
      <fix>
        Add options for handling special URL characters in paths, and disallow '\' and encoded '/'
        due to possible differences in behavior between Tomcat and a front end webserver. (remm)
      </fix>
      <fix>
        Fix bad comparison for FORM processing, submitted by Anil Saldhana. (remm)
      </fix>
      <fix>
        <bug>41608</bug> Make log levels consistent when Servlet.service()
        throws an exception. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Reduce usage of MessageBytes.getLength(), submitted by Arvind Srinivasan. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>41558</bug>: Don't call synced method on every request, submitted by Arvind Srinivasan. (remm)
      </fix>
      <fix>
        Switch to a thread local page context pool. (remm)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.9 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Use 2.5 xsd in Tomcat webapps. (markt)
      </fix>
      <fix>
        Compression filter improvements, submitted by Eric Hedström. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Properly return connector names. (remm)
      </fix>
      <fix>
        Remove logging of the XML validation flag. (remm)
      </fix>
      <fix>
        Correct error messages for context.xml. (markt)
      </fix>
      <fix>
        <bug>41217</bug>: Set secure flag correctly on SSO cookie, submitted by
        Chris Halstead. (markt)
      </fix>
      <fix>
        <bug>40524</bug>: request.getAuthType() now returns CLIENT_CERT rather
        than CLIENT-CERT. (markt)
      </fix>
      <fix>
        <bug>40526</bug>: Return support for JPDA_OPTS to catalina.bat and add
        a new option JPDA_SUSPEND, submitted by by Kurt Roy. (markt)
      </fix>
      <fix>
        <bug>41265</bug>: In embedded, remove the code that resets checkInterval
        values of zero to 300. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>37869</bug>: Fix getting client certificate, submitted by Christophe Pierret. (remm)
      </fix>
      <fix>
        <bug>40960</bug>: Throw a timeout exception when getting a timeout rather than a
        generic IOE, submitted by Christophe Pierret. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        EL validation fixes for attributes. (remm)
      </fix>
      <fix>
        <bug>41327</bug>: Show full URI for a 404. (markt)
      </fix>
      <fix>
        JspException now uses getCause() as the result for getRootCause(). (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Cluster">
    <changelog>
      <fix>
        <bug>41466</bug>: When using the NioChannel and SecureNioChannel its
        important to use the channels buffers. (fhanik)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.8 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Make provided instances of RequestDispatcher thread safe. (markt)
      </fix>
      <add>
        Optional development oriented loader implementation. (funkman)
      </add>
      <add>
        Optimized access log valve, submitted by Takayuki Kaneko. (remm)
      </add>
      <fix>
        Fix error messages when parsing context.xml that incorrectly referred to
        web.xml. (markt)
      </fix>
      <fix>
        <bug>41217</bug>: Set secure attribute on SSO cookie when cookie is
        created during a secure request. Patch provided by Chris Halstead.
        (markt)
      </fix>
      <fix>
        <bug>40524</bug>: HttpServletRequest.getAuthType() now returns
        CLIENT_CERT rather than CLIENT-CERT for certificate authentication
        as per the spec. Note that web.xml continues to use CLIENT-CERT to
        specify the certificate authentication should be used. (markt)
      </fix>
      <fix>
        <bug>41401</bug>: Add support for JPDA_OPTS to catalina.bat and add a
        JPDA_SUSPEND environment variable to both startup scripts. Patch
        provided by Kurt Roy. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Use the tomcat-native-1.1.10 as recommended version.
        OpenSSL detection on some platforms was broken 1.1.8 will continue to work,
        although on some platforms there can be JVM crash if IPV6 is enabled and
        platform doesn't support IPV4 mapped addresses on IPV6 sockets.
      </fix>
  </changelog>
  </subsection>  
  <subsection name="Jasper">
    <changelog>
      <fix>
        When displaying JSP source after an exception, handle included files.
        (markt)
      </fix>
      <fix>
        Display the JSP source when a compilation error occurs and display
        the correct line number rather than start of a scriptlet block. (markt)
      </fix>
      <fix>
        Fix NPE when processing dynamic attributes. (remm)
      </fix>
      <fix>
        More accurate EL usage validation. (remm)
      </fix>
      <fix>
        Fix regression for implicit taglib and page data version numbers. (remm)
      </fix>
      <fix>
        <bug>41265</bug>: Allow JspServlet checkInterval init parameter to be
        explicitly set to the stated default value of zero by removing the
        code that resets it to 300 if explicitly specified as zero. (markt)
      </fix>
      <fix>
        <bug>41327</bug>: Show full URI for a 404. Patch provided by Vijay.
        (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <docs>
        Add a virtual hosting how-to contributed by Hassan Schroeder. (markt)
      </docs>
      <update>
        Update all webapps to use the servlet 2.5 xsd. (markt)
      </update>
      <fix>
        <bug>39572</bug>: Improvements to CompressionFilter example provided by
        Eric Hedström. (markt)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.7 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Fix installer's bitmap (mturk)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Refactor logging of errors which may occur when reading a post body (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>37869</bug>: Also use the SSL_INFO_CLIENT_CERT field if the chain is empty,
        submitted by Grzegorz Grzybek (remm)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.6 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Fix tagging which did not include 6.0.5's changelog (remm)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.5 (remm)">
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>40585</bug>: Fix parameterised constructor for o.a.juli.FileHandler
        so parameters have an effect. (markt)
      </fix>
      <fix>
        Escape invalid characters from request.getLocale. (markt, remm)
      </fix>
      <update>
        Update required version for native to 1.1.8. (remm)
      </update>
      <fix>
        Do not log broken pipe errors which can occur when flushing the content of an error page. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix firstReadTimeout behavior for the AJP connector. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>41057</bug>: Make jsp:plugin output XHTML compliant. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Cluster">
    <changelog>
      <update>
        Cluster interface cleanup. (fhanik)
      </update>
      <update>
        Refactoring to allow usage of executors. (fhanik)
      </update>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.4 (remm)">
  <subsection name="General">
    <changelog>
      <update>
        Update to NSIS 2.22 (remm)
      </update>
      <fix>
        Fix regression in 6.0.3 with Windows wrapper (mturk)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.3 (remm)">
  <subsection name="General">
    <changelog>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        <bug>37509</bug>: Do not remove whitespace from the end of values
        defined in logging.properties files. (markt)
      </fix>
      <fix>
        <bug>38198</bug>: Add reference to Context documentation from Host
        documentation that explains how Context name is obtained from the
        Context filename. (markt)
      </fix>
      <fix>
        <bug>40844</bug> Missing syncs in JDBCRealm. (markt)
      </fix>
       <fix>
        <bug>40901</bug>: Encode directory listing output. Based on a patch
        provided by Chris Halstead. (markt)
      </fix>
      <fix>
        <bug>40929</bug>: Correct JavaDoc for StandardClassLoader. (markt)
      </fix>
      <fix>
        <bug>41008</bug>: Allow POST to be used for indexed queries with CGI
        Servlet. Patch provided by Chris Halstead. (markt)
      </fix>
      <fix>
        Fix usage of print on the servlet output stream if the processor never used
        a writer (fhanik)
      </fix>
      <fix>
        Fix logic of sameSameObjects used to determine correct wrapping of request and
        response objects (fhanik)
      </fix>
      <fix>
        Update TLD scan lists, and disable caching for now (remm)
      </fix>
      <update>
        Add system property to WebappClassLoader to allow disabling setting references
        to null when stopping it (remm)
      </update>
      <add>
        Add clustered SSO code, submitted by Fabien Carrion (remm)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>40860</bug>: Log exceptions and other problems during parameter
        processing. (markt)
      </fix>
      <update>
        Enable JMX for trust store attributes for SSL connector. (markt)
      </update>
      <update>
        Port memory usage reduction changes to the java.io HTTP connector. (remm)
      </update>
      <fix>
        MessageBytes.setString(null) will remove the String value. (remm)
      </fix>
      <fix>
        <bug>41057</bug>: Caching large strings is not useful and takes too much
        memory, so don't cache these (remm)
      </fix>
      <update>
        Add keepAliveTimeout attribute to most connectors (mturk, remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        Relax EL type validation for litterals. (remm)
      </fix>
      <fix>
        Update some version numbers to 2.1. (funkman, remm)
      </fix>
      <fix>
        Add xsds for JSP 2.1 (remm)
      </fix>
      <fix>
        <bug>41106</bug>: Update validation checks for EL to also include
        legacy 1.2 tags (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
      <fix>
        <bug>40677</bug>: Update SSL documentation to indicate that PKCS11
        keystores may be used. (markt)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.2 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        Various tweaks to distribution (remm, funkman)
      </fix>
      <update>
        Update Tomcat native to 1.1.7 (mturk)
      </update>
      <update>
        Update to JDT 3.2.1 (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <fix>
        Fix EJB annotation interface (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        Fix passing of the keystore password for the NIO connector (fhanik)
      </fix>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.1 (remm)">
  <subsection name="General">
    <changelog>
      <fix>
        <bug>37439</bug>, <bug>40823</bug>: Documentation cleanup (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Catalina">
    <changelog>
      <update>
        Refactor exception processing using Throwable.getCause to improve exception chaining (remm)
      </update>
      <add>
        Remove dead code involving the Logger (funkman)
      </add>
      <fix>
        <bug>37458</bug>: Fix some exceptions which could happen during classloading (markt)
      </fix>
      <fix>
        <bug>40817</bug>: Fix CGI path (markt)
      </fix>
      <fix>
        <bug>34956</bug>: Add the possibility to enforce usage of request and response
        wrapper objects (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <update>
        Many fixes for JSP 2.1 compliance, invloving tag files handling, deferred expressions
        validation, bom encoding support (remm)
      </update>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <update>
        Many HTTP NIO connector fixes and refactorings (fhanik)
      </update>
      <update>
        HTTP NIO connector performance improvements (fhanik)
      </update>
      <update>
        Add packetSize option for the classic AJP connector (jfclere)
      </update>
      <update>
        Implement explicit flushing in AJP (mturk)
      </update>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 6.0.0 (remm)">
  <subsection name="Catalina">
    <changelog>
      <add>
        SSLEngine attribute added to the AprLifecycleListener(fhanik)
      </add>
      <add>
        Add API for Comet IO handling (remm, fhanik)
      </add>
      <add>
        Servlet 2.5 support (remm)
      </add>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <add>
        JSP 2.1 support (jhook, remm)
      </add>
      <add>
        Unifed EL 2.1 support (jhook)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <add>
        SSLEnabled attribute required for SSL to be turned on, on all HTTP connectors (fhanik)
      </add>
      <update>
        Memory usage reduction for the HTTP connectors, except java.io (remm)
      </update>
      <update>
        Modeler update to use dynamic mbeans rather than model mbeans, which consume more
        resources (costin)
      </update>
    </changelog>
  </subsection>
  <subsection name="Cluster">
    <changelog>
      <add>
        New cluster configuration and new documentation (fhanik)
      </add>
    </changelog>
  </subsection>
  <subsection name="Webapps">
    <changelog>
    </changelog>
  </subsection>
</section>
</body>
</document>
